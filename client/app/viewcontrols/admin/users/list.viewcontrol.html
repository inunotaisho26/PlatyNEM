<div class="dashboard-button-row">
    <plat-button class="button-primary button-small" plat-tap="createUser">
        <i class="fa fa-lg fa-user-plus"></i>
    </plat-button>
    <span class="button-sidetext">Add New User</span>
</div>
<ul class="users" plat-control="plat-foreach" plat-context="users" plat-name="flipper">
    <li class="flip-container user-container">
        <div class="flipper user-flipper">
            <div class="user front">
                <i class="fa fa-lg fa-bars user-menu" plat-tap="flipUserElement(@index)"></i>
                <div class="user-avatar" style="background-image: url('{{avatar || '/assets/avatars/no-avatar.gif'}}')"></div>
                <div class="user-details">
                    <div class="user-name">{{firstname + ' ' + lastname}}</div>
                    <span>{{email}}</span>
                </div>
            </div>
            <div class="user back">
                <i class="fa fa-lg fa-close user-menu" plat-tap="cancelEdit(@index, @context)" ></i>
                <div class="user-avatar" style="background-image: url('{{@rootContext.editableUser.avatar || '/assets/avatars/no-avatar.gif'}}')">
                    <label class="change-avatar">
                        <i class="fa fa-camera"></i>
                        <input type="file" plat-bind="@rootContext.editableUser.avatar" plat-change="changeAvatar(@index)" placeholder="Avatar" name="avatar" id="avatar" accept=".jpg,.png,.gif,.jpeg" />
                    </label>
                </div>
                <div class="user-details">
                    <div class="input-container">
                        <plat-input type="text" plat-bind="@rootContext.editableUser.firstname" plat-react="enableSave(@index)" placeholder="First Name"></plat-input>
                        <plat-input type="text" plat-bind="@rootContext.editableUser.lastname" plat-react="enableSave(@index)" placeholder="Last Name"></plat-input>
                        <plat-input type="text" plat-bind="@rootContext.editableUser.password" plat-react="enableSave(@index)" placeholder="Password"></plat-input>
                        <plat-input type="text" plat-bind="@rootContext.editableUser.newpassword" plat-react="enableSave(@index)" placeholder="New Password" plat-visible="{{!!@rootContext.editableUser.id}}"></plat-input>
                        <plat-input type="text" plat-bind="@rootContext.editableUser.confirmpassword" plat-react="enableSave(@index)" placeholder="Confirm Password"></plat-input>
                    </div>
                    <div class="user-options">
                        <span class="user-option user-option-save" plat-tap="updateUser(@context)">
                            <i class="fa fa-check"></i>save
                        </span>
                        <span class="user-option red-text">
                            <i class="fa fa-close"></i>delete
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </li>
</ul>